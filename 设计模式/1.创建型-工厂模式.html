<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>简单工厂-区分变与不变</title>
</head>
<body>
  
<script>
  /**
   * SOLID设计原则
   *   单一封闭原则
   *   开放封闭原则
   *   里式替换原则
   *   接口隔离原则
   *   依赖反转原则
  */

  /** 设计模式的核心思想--封装变化 */

  /** 构造器 */
  const liLei = {
    name: '李雷',
    age: 25,
    career: 'coder'
  } 

  const hanMeiMei = {
    name: '韩梅梅',
    age: 24,
    career: 'product manager'
  }

  // function User(name, age, career) {
  //   this.name = name
  //   this.age = age
  //   this.career = career
  // }

  // const yangJing = new User('杨静', 26, '会计')
  // console.log(yangJing)

  /** 简单工厂模式 */
  function Coder(name , age) {
    this.name = name
    this.age = age
    this.career = 'coder' 
    this.work = ['写代码','写系分', '修Bug']
  }
  function ProductManager(name, age) {
    this.name = name 
    this.age = age
    this.career = 'product manager'
    this.work = ['订会议室', '写PRD', '催更']
  }


  /***/
  function User(name , age, career, work) {
    this.name = name
    this.age = age
    this.career = career
    this.work = work
  }
  function Factory(name, age, career) {
    // let work
    // switch(career) {
    //     case 'coder':
    //         work =  ['写代码','写系分', '修Bug'] 
    //         break
    //     case 'product manager':
    //         work = ['订会议室', '写PRD', '催更']
    //         break
    //     case 'boss':
    //         work = ['喝茶', '看报', '见客户']
    //         break
    //     // case 'xxx':
    //         // 其它工种的职责分配
    // }
    const careerMapWork = {
      coder: ['写代码','写系分', '修Bug'],
      productManager: ['订会议室', '写PRD', '催更'],
      boss: ['喝茶', '看报', '见客户']
    }
    const work = careerMapWork[career]
    return new User(name, age, career, work)
  }
  const yangJing = new Factory('杨静', 26, 'boss')
  console.log(yangJing);

</script>

</body>
</html>