<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>æŠ½è±¡å·¥å‚-ç†è§£å¼€æ”¾å°é—­</title>
</head>
<body>
  <script>
  /** ç®€å•å·¥å‚å‡½æ•° */
  // function Factory(name, age, career) {
  //   let work
  //   switch(career) {
  //     case 'coder':
  //       work =  ['å†™ä»£ç ','å†™ç³»åˆ†', 'ä¿®Bug'] 
  //       break
  //     case 'product manager':
  //       work = ['è®¢ä¼šè®®å®¤', 'å†™PRD', 'å‚¬æ›´']
  //       break
  //     case 'boss':
  //       work = ['å–èŒ¶', 'çœ‹æŠ¥', 'è§å®¢æˆ·']
  //       break
  //   } 
  //   return new User(name, age, career, work)
  // }

  /**
   * é—®é¢˜
   *    æŠŠbossè¿™ä¸ªè§’è‰²å’Œæ™®é€šå‘˜å·¥å¡è¿›äº†ä¸€ä¸ªå·¥å‚
   *    bosså’ŒåŸºå±‚å‘˜å·¥åœ¨èŒèƒ½ä¸Šå·®åˆ« æƒé™ èŒèƒ½ã€‚ã€‚ã€‚
   * ä¿®æ”¹-åŸºäºç®€å•å·¥å‚å‡½æ•°
   *    ä¿®æ”¹Factoryçš„å‡½æ•°ä½“ï¼Œå¢åŠ ç®¡ç†å±‚ç›¸å…³åˆ¤æ–­ ä½†ä»åŠŸèƒ½æ¥è¯´æ²¡é—®é¢˜
   *    å»¶ä¼¸é—®é¢˜  å…¬å¸ä¸ä»…ä»…åªæœ‰è¿™å‡ ç±»äºº  è¿˜æœ‰å¤–åŒ…  ä¿å®‰ 
   *             æ¯å¤šä¸€ä¸ªç±»åˆ«å°±å»ä¿®æ”¹Factoryå‡½æ•°ä½“ 
   *             Factoryå˜å¾—å¼‚å¸¸åºå¤§ å‡ºä¸€ä¸ªbug å¯¼è‡´æ•´ä¸ªå‡½æ•°å´©å
   *             Factoryçš„é€»è¾‘è¿‡äºç¹æ‚å’Œæ··ä¹±ï¼Œä¸ä¾¿äºåç»­ç»´æŠ¤
   * æ€»ç»“-æ²¡æœ‰éµå®ˆå¼€æ”¾å°é—­çš„åŸåˆ™
  */

  /** æŠ½è±¡å·¥å‚æ¨¡å¼ */

  // æ™ºèƒ½æ‰‹æœºçš„åŸºæœ¬ç»„æˆæ˜¯æ“ä½œç³»ç»Ÿï¼ˆOSï¼‰å’Œç¡¬ä»¶ï¼ˆHardWareï¼‰ç»„æˆ
  class MobilePhoneFactory {
    // æä¾›æ“ä½œç³»ç»Ÿçš„æ¥å£
    createOS(){
      throw new Error("æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼");
    }
    // æä¾›ç¡¬ä»¶çš„æ¥å£
    createHardWare(){
      throw new Error("æŠ½è±¡å·¥å‚æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼");
    }
  }

  // å®šä¹‰æ“ä½œç³»ç»Ÿè¿™ç±»äº§å“çš„æŠ½è±¡äº§å“ç±»
  class OS {
    controlHardWare() {
      throw new Error('æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼');
    }
  }

  // å®šä¹‰æ‰‹æœºç¡¬ä»¶è¿™ç±»äº§å“çš„æŠ½è±¡äº§å“ç±»
  class HardWare {
    // æ‰‹æœºç¡¬ä»¶çš„å…±æ€§æ–¹æ³•ï¼Œè¿™é‡Œæå–äº†â€œæ ¹æ®å‘½ä»¤è¿è½¬â€è¿™ä¸ªå…±æ€§
    operateByOrder() {
      throw new Error('æŠ½è±¡äº§å“æ–¹æ³•ä¸å…è®¸ç›´æ¥è°ƒç”¨ï¼Œä½ éœ€è¦å°†æˆ‘é‡å†™ï¼');
    }
  }

  // å®šä¹‰å…·ä½“æ“ä½œç³»ç»Ÿçš„å…·ä½“äº§å“ç±»
  class AndroidOS extends OS {
    controlHardWare() {
      console.log('æˆ‘ä¼šç”¨å®‰å“çš„æ–¹å¼å»æ“ä½œç¡¬ä»¶')
    }
  }

  class AppleOS extends OS {
    controlHardWare() {
      console.log('æˆ‘ä¼šç”¨ğŸçš„æ–¹å¼å»æ“ä½œç¡¬ä»¶')
    }
  }

  // å®šä¹‰å…·ä½“ç¡¬ä»¶çš„å…·ä½“äº§å“ç±»
  class QualcommHardWare extends HardWare {
    operateByOrder() {
      console.log('æˆ‘ä¼šç”¨é«˜é€šçš„æ–¹å¼å»è¿è½¬')
    }
  }

  class MiWare extends HardWare {
    operateByOrder() {
      console.log('æˆ‘ä¼šç”¨å°ç±³çš„æ–¹å¼å»è¿è½¬')
    }
  }

  // å…·ä½“å·¥å‚ç»§æ‰¿è‡ªæŠ½è±¡å·¥å‚
  class FakeStarFactory extends MobilePhoneFactory {
    createOS() {
      // æä¾›å®‰å“ç³»ç»Ÿå®ä¾‹
      return new AndroidOS()
    }
    createHardWare() {
      // æä¾›é«˜é€šç¡¬ä»¶å®ä¾‹
      return new QualcommHardWare()
    }
  }

  class AppleFactory extends MobilePhoneFactory {
    createOS() {
      return new AppleOS()
    }
    createHardWare() {
      return new MiWare()
    }
  }

  const myPhone = new FakeStarFactory()
  const myOs = myPhone.createOS()
  const myHardWare = myPhone.createHardWare()
  myOs.controlHardWare()
  console.log(myPhone)

  const myApple = new AppleFactory()
  const myAppleOs = myApple.createOS()
  const myAppleHardWare = myApple.createHardWare()
  myAppleOs.controlHardWare()
  console.log(myApple)

  /**
   * æŠ½è±¡å·¥å‚-æŠ½è±¡ç±»ï¼Œå®ƒä¸èƒ½è¢«ç”¨äºç”Ÿæˆå…·ä½“å®ä¾‹ï¼Œç”¨äºå£°æ˜æœ€ç»ˆç›®æ ‡äº§å“çš„å…±æ€§
   * å…·ä½“äº§å“-ç”¨äºç”Ÿæˆäº§å“æ—çš„ä¸€ä¸ªå…·ä½“çš„äº§å“
   * æŠ½è±¡äº§å“-æŠ½è±¡ç±»ï¼Œå®ƒä¸èƒ½è¢«ç”¨äºç”Ÿæˆå…·ä½“å®ä¾‹
   * å…·ä½“äº§å“-ç”¨äºç”Ÿæˆäº§å“æ—é‡Œçš„ä¸€ä¸ªå…·ä½“çš„äº§å“ä¾èµ–çš„æ›´ç»†ç²’åº¦çš„äº§å“
  */

  </script>
</body>
</html>